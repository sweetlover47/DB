drop table if exists tourist;
drop table if exists rest_tourist;
drop table if exists cargo_tourist;

create sequence tourist_id_seq
  as integer
  minvalue 0
  maxvalue 2147483647;
alter sequence tourist_id_seq owner to nastya;

create table tourist
(
  id int not null DEFAULT  nextval('tourist_id_seq'),
  name varchar not null,
  passport varchar not null,
  sex varchar,
  age int
);

create table rest_tourist
(

  id_excursion int,
  id_trip int,
  constraint rest_tourist_pk
    primary key (id_excursion, id_trip)
);

create table cargo_tourist
(
  id_cargo int,
  id_trip int,
  constraint cargo_tourist_pk
    primary key (id_cargo)
);



create unique index tourist_id_uindex
  on tourist (id);

create unique index tourist_passport_uindex
  on tourist (passport);

alter table tourist
  add constraint tourist_pk
    primary key (id);


INSERT INTO tourist (name, passport, sex, age) VALUES ('Васильев Василий Васильевич',	'101123',	'm',	60),
                           (  'Романов Иван Григорьевич',	'155723',	'm',	29),
                           (	'Иванова Лидия Владимировна',	'321654',	'f',	48),
                           (	'Сагитов Расул Нажмудинович',	'888267',	'm',	31),
                           (	'Абдуллаев Исаак Афган оглы',	'524862',	'm',	16),
                           (	'Любченко Василина Николаевна',	'228339',	'f',	54),
                           (	'Васильева Ирина Афанасьевна', '349167',	'f',	46),
                           (	'Шевчук Вероника Викторовна',	'200133',	'f',	19),
                           (	'Картон Виктория Олеговна',	'578963',	'f',	21),
                           (	'Лапушкина Анастасия Романовна',	'365478',	'f',	20),
                           (	'Корелин Яков Петрович',	'741852',	'm',	65),
                           (	'Несмущенко Любовь Павловна',	'188993',	'f', 38),
                           (	'Карпов Карл Зимфридович',	'688114',	'm',	90),
                           (	'Карпов Иван Денисович',	'746500',	'm',	25),
                           (	'Капралова Регина Вячеславовна',	'300210',	'f',	18),
                           (	'Злотенко Маргарита Викторовна',	'999520',	'f',	26),
                           (	'Федорук Василий Васильевич',	'666222',	'm',	23),
                           (  'Добрынина Елизавета Леонидовна',	'987604', 'f',	25),
                           (	'Войтенко Евгений Петрович', '101146',	'm',	31),
                           (	'Петров Виктор Николаевич',	'362001',	'm',	36),
                           (	'Алегрова Вероника Федоровна',	'963200',	'f',	37),
                           (	'Зайцев Вениамин Георгиевич',	'853614',	'm',	17),
                           (	'Антонова Анастасия Георгиевна',	'303606',	'f',	20),
                           (	'Леонов Руслан Олегович',	'951357',	'm',	23),
                           (	'Далыков Бадма Нажмудинович',	'824025',	'm',	21),
                           (	'Руков Сергей Николаевич',	'602134',	'm',	31);

INSERT into cargo_tourist VALUES
(1,79),
(2,74),
(3,75),
(4,75);

/*(24,	1,	79),
(25,	2,	74),
(23,	3,	75),
(23,	4,	75),
(25,	5,	74);*/

insert into rest_tourist values
(2,1),
(6,2),
(7,3),
(8,3),
(1,4),
(4,6),
(5,4),
(6,4),
(2,7),
(3,8),
(4,11),
(7,7),
(8,8),
(3,12),
(4,15),
(7,14),
(9,13),
(3,18),
(5,17),
(6,16),
(9,19),
(1,20),
(5,21),
(6,22),
(8,22),
(1,24),
(1,25),
(1,26),
(1,27),
(2,24),
(2,25),
(2,26),
(2,27),
(6,24),
(6,25),
(6,26),
(6,27),
(7,24),
(7,25),
(7,26),
(7,27),
(8,24),
(8,25),
(8,26),
(8,27),
(3,28),
(3,29),
(3,30),
(3,31),
(5,28),
(5,29),
(5,30),
(5,31),
(8,28),
(8,29),
(8,30),
(8,31),
(9,28),
(9,29),
(9,30),
(9,31),
(4,32),
(4,33),
(4,34),
(6,32),
(6,33),
(6,34),
(7,32),
(7,33),
(7,34),
(8,32),
(8,33),
(8,34),
(4,35),
(4,36),
(4,37),
(5,35),
(5,36),
(5,37),
(6,35),
(6,36),
(6,37),
(9,35),
(9,36),
(9,37),
(3,38),
(3,39),
(3,40),
(4,38),
(4,39),
(4,40),
(8,38),
(8,39),
(8,40),
(4,41),
(4,42),
(6,41),
(6,42),
(7,41),
(7,42),
(3,44),
(3,43),
(3,45),
(3,46),
(5,44),
(5,43),
(5,45),
(5,46),
(6,44),
(6,43),
(6,45),
(6,46),
(9,44),
(9,43),
(9,45),
(9,46),
(4,47),
(4,48),
(5,47),
(5,48),
(8,47),
(8,48),
(3,49),
(3,50),
(3,51),
(3,52),
(4,49),
(4,50),
(4,51),
(4,52),
(7,49),
(7,50),
(7,51),
(7,52),
(8,49),
(8,50),
(8,51),
(8,52),
(2,53),
(2,54),
(2,55),
(2,56),
(4,53),
(4,54),
(4,55),
(4,56),
(7,53),
(7,54),
(7,55),
(7,56),
(8,53),
(8,54),
(8,55),
(8,56),
(1,57),
(1,58),
(1,59),
(1,60),
(1,61),
(3,57),
(3,58),
(3,59),
(3,60),
(3,61),
(4,57),
(4,58),
(4,59),
(4,60),
(4,61),
(7,57),
(7,58),
(7,59),
(7,60),
(7,61),
(8,57),
(8,58),
(8,59),
(8,60),
(8,61),
(3,80),
(3,62),
(8,80),
(8,62),
(2,64),
(2,65),
(2,63),
(6,64),
(6,65),
(6,63),
(8,64),
(8,65),
(8,63),
(2,67),
(2,68),
(2,66),
(3,67),
(3,68),
(3,66),
(4,67),
(4,68),
(4,66),
(1,70),
(1,71),
(1,72),
(1,69),
(2,70),
(2,71),
(2,72),
(2,69),
(6,70),
(6,71),
(6,72),
(6,69),
(8,70),
(8,71),
(8,72),
(8,69),
(4,75),
(4,74),
(4,73),
(6,75),
(6,74),
(6,73),
(9,75),
(9,74),
(9,73),
(3,79),
(3,77),
(3,76),
(3,78),
(5,79),
(5,77),
(5,76),
(5,78),
(8,79),
(8,77),
(8,76),
(8,78),
(9,79),
(9,77),
(9,76),
(9,78);
/*
(0,	2,	1),
(0,	6,	2),
(0,	7,	3),
(0,	8,	3),
(1,	1,	4),
(1,	4,	6),
(1,	5,	4),
(1,	6,	4),
(2,	2,	7),
(2,	3,	8),
(2,	4,	11),
(2,	7,	7),
(2,	8,	8),
(3,	3,	12),
(3,	4,	15),
(3,	7,	14),
(3,	9,	13),
(4,	3,	18),
(4,	5,	17),
(4,	6,	16),
(4,	9,	19),
(5,	1,	20),
(5,	5,	21),
(5,	6,	22),
(5,	8,	22),
(6,	1,	24),
(6,	1,	25),
(6,	1,	26),
(6,	1,	27),
(6,	2,	24),
(6,	2,	25),
(6,	2,	26),
(6,	2,	27),
(6,	6,	24),
(6,	6,	25),
(6,	6,	26),
(6,	6,	27),
(6,	7,	24),
(6,	7,	25),
(6,	7,	26),
(6,	7,	27),
(6,	8,	24),
(6,	8,	25),
(6,	8,	26),
(6,	8,	27),
(7,	3,	28),
(7,	3,	29),
(7,	3,	30),
(7,	3,	31),
(7,	5,	28),
(7,	5,	29),
(7,	5,	30),
(7,	5,	31),
(7,	8,	28),
(7,	8,	29),
(7,	8,	30),
(7,	8,	31),
(7,	9,	28),
(7,	9,	29),
(7,	9,	30),
(7,	9,	31),
(8,	4,	32),
(8,	4,	33),
(8,	4,	34),
(8,	6,	32),
(8,	6,	33),
(8,	6,	34),
(8,	7,	32),
(8,	7,	33),
(8,	7,	34),
(8,	8,	32),
(8,	8,	33),
(8,	8,	34),
(9,	4,	35),
(9,	4,	36),
(9,	4,	37),
(9,	5,	35),
(9,	5,	36),
(9,	5,	37),
(9,	6,	35),
(9,	6,	36),
(9,	6,	37),
(9,	9,	35),
(9,	9,	36),
(9,	9,	37),
(10,	3,	38),
(10,	3,	39),
(10,	3,	40),
(10,	4,	38),
(10,	4,	39),
(10,	4,	40),
(10,	8,	38),
(10,	8,	39),
(10,	8,	40),
(11,	4,	41),
(11,	4,	42),
(11,	6,	41),
(11,	6,	42),
(11,	7,	41),
(11,	7,	42),
(12,	3,	44),
(12,	3,	43),
(12,	3,	45),
(12,	3,	46),
(12,	5,	44),
(12,	5,	43),
(12,	5,	45),
(12,	5,	46),
(12,	6,	44),
(12,	6,	43),
(12,	6,	45),
(12,	6,	46),
(12,	9,	44),
(12,	9,	43),
(12,	9,	45),
(12,	9,	46),
(13,	4,	47),
(13,	4,	48),
(13,	5,	47),
(13,	5,	48),
(13,	8,	47),
(13,	8,	48),
(14,	3,	49),
(14,	3,	50),
(14,	3,	51),
(14,	3,	52),
(14,	4,	49),
(14,	4,	50),
(14,	4,	51),
(14,	4,	52),
(14,	7,	49),
(14,	7,	50),
(14,	7,	51),
(14,	7,	52),
(14,	8,	49),
(14,	8,	50),
(14,	8,	51),
(14,	8,	52),
(15,	2,	53),
(15,	2,	54),
(15,	2,	55),
(15,	2,	56),
(15,	4,	53),
(15,	4,	54),
(15,	4,	55),
(15,	4,	56),
(15,	7,	53),
(15,	7,	54),
(15,	7,	55),
(15,	7,	56),
(15,	8,	53),
(15,	8,	54),
(15,	8,	55),
(15,	8,	56),
(16,	1,	57),
(16,	1,	58),
(16,	1,	59),
(16,	1,	60),
(16,	1,	61),
(16,	3,	57),
(16,	3,	58),
(16,	3,	59),
(16,	3,	60),
(16,	3,	61),
(16,	4,	57),
(16,	4,	58),
(16,	4,	59),
(16,	4,	60),
(16,	4,	61),
(16,	7,	57),
(16,	7,	58),
(16,	7,	59),
(16,	7,	60),
(16,	7,	61),
(16,	8,	57),
(16,	8,	58),
(16,	8,	59),
(16,	8,	60),
(16,	8,	61),
(17,	3,	80),
(17,	3,	62),
(17,	8,	80),
(17,	8,	62),
(18,	2,	64),
(18,	2,	65),
(18,	2,	63),
(18,	6,	64),
(18,	6,	65),
(18,	6,	63),
(18,	8,	64),
(18,	8,	65),
(18,	8,	63),
(19,	2,	67),
(19,	2,	68),
(19,	2,	66),
(19,	3,	67),
(19,	3,	68),
(19,	3,	66),
(19,	4,	67),
(19,	4,	68),
(19,	4,	66),
(20,	1,	70),
(20,	1,	71),
(20,	1,	72),
(20,	1,	69),
(20,	2,	70),
(20,	2,	71),
(20,	2,	72),
(20,	2,	69),
(20,	6,	70),
(20,	6,	71),
(20,	6,	72),
(20,	6,	69),
(20,	8,	70),
(20,	8,	71),
(20,	8,	72),
(20,	8,	69),
(21,	4,	75),
(21,	4,	74),
(21,	4,	73),
(21,	6,	75),
(21,	6,	74),
(21,	6,	73),
(21,	9,	75),
(21,	9,	74),
(21,	9,	73),
(22,	3,	79),
(22,	3,	77),
(22,	3,	76),
(22,	3,	78),
(22,	5,	79),
(22,	5,	77),
(22,	5,	76),
(22,	5,	78),
(22,	8,	79),
(22,	8,	77),
(22,	8,	76),
(22,	8,	78),
(22,	9,	79),
(22,	9,	77),
(22,	9,	76),
(22,	9,	78);
*/
--select setval('tourist_id_seq1', max(id)) from tourist;
